---
import SVG from "@/components/SVG.astro";
import NotFound from "@/assets/404.svg";
import Base from "@/layouts/Base.astro";
---

<Base>
  <h1>
    <img
      src={NotFound.src}
      width={NotFound.width}
      height={NotFound.height}
      alt="404"
    />

    <p>NOT FOUND</p>
  </h1>

  <h2>お探しのページは存在しません</h2>

  <button id="js-search">
    <SVG symbol="search" class="u-iconInText" /> サイト内検索
  </button>
</Base>

<script>
  document.addEventListener(
    "astro:page-load",
    () => {
      const search = document.getElementById("js-search");
      search?.addEventListener("click", () => {
        const Query = prompt("キーワードを入力");
        if (!Query) return;
        window.open(
          `https://www.google.co.jp/search?q=${Query}&as_sitesearch=hira.page`,
        );
      });
    },
    { once: false },
  );
</script>

<style lang="less">
  @import "@/styles/common.less";

  h1 {
    margin-top: 96px;
    text-align: center;

    img {
      width: 480px;
      @media (width < @sm) {
        width: 280px;
      }
    }

    p {
      margin-top: 0.4em;
      font-size: 64px;
      font-weight: 800;
      letter-spacing: 0.1em;
      color: rgb(@theme);
      @media (width < @sm) {
        font-size: 40px;
        letter-spacing: 0.05em;
      }
    }
  }

  h2 {
    margin-top: 48px;
    text-align: center;
    font-size: 24px;
    color: rgb(@label);
    @media (width < @sm) {
      font-size: 20px;
    }
  }

  #js-search {
    display: block;
    margin: 48px auto 0;
    padding: 8px 16px;
    border: 1px solid rgb(@label);
    border-radius: 6px;
    color: rgb(@label);
  }
</style>
